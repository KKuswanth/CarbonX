<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CarbonX | Admin Panel</title>
  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Navbar -->
  <div id="navbar"></div>
  <div class="container my-4">
    <h5 class="fw-bold">Admin Panel</h5>
    <p class="text-muted">Project verification and approval workflow</p>

    <!-- Status Boxes -->
    <div class="row g-3 mb-4">
      <div class="col-md-3">
        <div class="status-box status-pending"><i class="bi bi-hourglass-split me-2"></i> 1 Pending Review</div>
      </div>
      <div class="col-md-3">
        <div class="status-box status-approved"><i class="bi bi-check-circle-fill me-2"></i> 47 Approved</div>
      </div>
      <div class="col-md-3">
        <div class="status-box status-rejected"><i class="bi bi-x-circle-fill me-2"></i> 3 Rejected</div>
      </div>
      <div class="col-md-3">
        <div class="status-box status-reviewers"><i class="bi bi-people-fill me-2"></i> 8 Active Reviewers</div>
      </div>
    </div>

    <!-- Projects Awaiting Review -->
    <div class="card p-3">
      <h6 class="fw-bold mb-3">Projects Awaiting Review</h6>
      <table class="table align-middle">
        <thead>
          <tr>
            <th>Project</th>
            <th>Location</th>
            <th>Area</th>
            <th>Submitted</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Odisha Coastal Restoration <br><small class="text-muted">NGO: Mangrove Conservation Society</small></td>
            <td>Odisha, Kendrapara</td>
            <td>125 hectares</td>
            <td>2 days ago</td>
            <td><span class="badge bg-warning text-dark">Under Review</span></td>
            <td>
              <button class="btn btn-sm btn-outline-primary">Review</button>
              <button class="btn btn-sm btn-success btn-toggle" onclick="toggleDecision(this, 'approve')">Approve</button>
              <button class="btn btn-sm btn-danger btn-toggle" onclick="toggleDecision(this, 'reject')">Reject</button>
            </td>
          </tr>
          <tr>
            <td>Tamil Nadu Delta Project <br><small class="text-muted">NGO: Coastal Farmers Collective Thanjavur</small></td>
            <td>Tamil Nadu, Thanjavur</td>
            <td>80 hectares</td>
            <td>5 days ago</td>
            <td><span class="badge bg-warning text-dark">Under Review</span></td>
            <td>
              <button class="btn btn-sm btn-outline-primary">Review</button>
              <button class="btn btn-sm btn-success btn-toggle" onclick="toggleDecision(this, 'approve')">Approve</button>
              <button class="btn btn-sm btn-danger btn-toggle" onclick="toggleDecision(this, 'reject')">Reject</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Verification Checklist -->
    <div class="card p-3">
      <h6 class="fw-bold mb-3"><i class="bi bi-check2-circle text-success"></i> Verification Checklist</h6>
      <ul class="checklist">
        <li><i class="bi bi-check-circle-fill text-success"></i> Environmental Impact Assessment</li>
        <li><i class="bi bi-check-circle-fill text-success"></i> Land Use Permissions</li>
        <li><i class="bi bi-check-circle-fill text-success"></i> Community Consent Documentation</li>
        <li><i class="bi bi-check-circle-fill text-success"></i> Technical Feasibility Study</li>
        <li><i class="bi bi-circle text-muted"></i> Financial Sustainability Plan</li>
      </ul>
    </div>

    <!-- Review Assignment -->
    <div class="card p-3">
      <h6 class="fw-bold mb-3"><i class="bi bi-person-badge"></i> Review Assignment</h6>
      <form id="reviewForm">
        <div class="mb-3">
          <label class="form-label">Assign Reviewer</label>
          <select class="form-select">
            <option selected>Dr. Priya Sharma - Environmental Scientist</option>
            <option>Mr. Arjun Mehta - Ecologist</option>
            <option>Ms. Kavita Nair - Policy Specialist</option>
          </select>
        </div>
        <div class="mb-3">
          <label class="form-label">Priority Level</label>
          <select class="form-select">
            <option>High - Complete within 3 days</option>
            <option>Medium - Complete within 7 days</option>
            <option>Low - Complete within 14 days</option>
          </select>
        </div>
        <div class="mb-3">
          <label class="form-label">Review Notes</label>
          <textarea class="form-control" rows="3" placeholder="Add specific review instructions..."></textarea>
        </div>
        <button type="submit" class="btn btn-primary w-100">Assign Review</button>
      </form>
      <div id="reviewMessage" class="alert alert-success mt-3 d-none">âœ… Review is saved</div>
    </div>

  </div>

  <script>
    // Toggle Approve/Reject
    function toggleDecision(button, decision) {
      const row = button.closest("tr");
      const approveBtn = row.querySelector(".btn-success");
      const rejectBtn = row.querySelector(".btn-danger");

      if (decision === "approve") {
        approveBtn.classList.add("active");
        rejectBtn.classList.remove("active");
      } else {
        rejectBtn.classList.add("active");
        approveBtn.classList.remove("active");
      }
    }

    // Assign Review form
    document.getElementById("reviewForm").addEventListener("submit", function(e) {
      e.preventDefault();
      document.getElementById("reviewMessage").classList.remove("d-none");
    });
  </script>
<script>
    // Load navbar from external file
    fetch("navbar.html")
      .then(res => res.text())
      .then(data => {
        document.getElementById("navbar").innerHTML = data;

        // Highlight current page
        const links = document.querySelectorAll("#navbar .nav-link");
        links.forEach(link => {
          if (link.getAttribute("href") === location.pathname.split("/").pop()) {
            link.classList.add("active");
          }
        });
      });
  </script>
</body>
</html>
